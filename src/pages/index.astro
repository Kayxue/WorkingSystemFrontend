---
import Layout from '../layouts/Layout.astro';

const isLoggedIn = Astro.locals?.authData?.loggedIn;
const currentYear = new Date().getFullYear();
---

<Layout title="WorkNow - 企業彈性人力解決方案">
	<div class="main-container">
		<main>
			<section class="hero-section">
				<div class="container">
					<h1>WorkNow - 您的即時企業人力夥伴</h1>
					<p>專為商家與企業設計，快速媒合彈性工讀生與兼職人員。</p>
					<p>輕鬆發布短期職缺，高效管理人力需求，解決您的即時人力缺口。</p>
					{isLoggedIn ? (
						<div class="cta-buttons">
							<a href="/dashboard" class="btn btn-primary">職缺列表</a>
							<a href="/post-job" class="btn btn-secondary">發表職缺</a>
						</div>
					) : (
						<div class="cta-buttons">
							<a href="/register" class="btn btn-primary">企業註冊</a>
							<a href="/login" class="btn btn-secondary">企業登入</a>
						</div>
					)}
				</div>
			</section>
		</main>
		<footer class="main-footer">
			<div class="container">
				<p>&copy; {currentYear} WorkNow. 保留所有權利。</p>
			</div>
		</footer>
	</div>
</Layout>

<style>
	.main-container {
		display: flex;
		flex-direction: column;
		min-height: 100vh; /* Ensures the main container takes full height */
	}
	
	main {
		padding-top: var(--spacing-lg); /* Space for potential fixed header, adjust if needed */
		padding-bottom: var(--spacing-lg); /* Space for footer */
		flex:1;
	}

	/* --- Hero Section --- */
	.hero-section {
		/* background-color: var(--color-background-light); */
		padding: var(--spacing-xl) var(--spacing-md);
		text-align: center;
		margin-bottom: var(--spacing-lg);
		border-radius: 8px; /* Slightly rounded corners */
	}

	.hero-section h1 {
		font-size: var(--font-size-h1);
		margin-bottom: var(--spacing-sm);
		color: var(--color-text-dark);
		line-height: 1.2;
	}

	.hero-section p {
		font-size: var(--font-size-p);
		color: var(--color-text-medium);
		margin-bottom: var(--spacing-md);
	}

	/* --- CTA Buttons --- */
	.cta-buttons {
		display: flex;
		justify-content: center;
		gap: var(--spacing-md); /* Space between buttons */
		flex-wrap: wrap; /* Allows buttons to wrap to a new line if absolutely necessary, but maintains row direction */
		/* Important: Remove or comment out flex-direction: column from here if it was present */
	}

	.cta-buttons .btn {
		display: inline-block;
		padding: 0.75rem 1.75rem;
		text-decoration: none;
		border-radius: 25px;
		font-size: var(--font-size-base);
		font-weight: bold;
		transition: all 0.3s ease;
		white-space: nowrap; /* Prevents button text from wrapping */
		/* Important: Remove or comment out width: 100% from here if it was present */
	}

	.btn-primary {
		background-color: var(--color-primary);
		color: white;
		border: 1px solid var(--color-primary);
	}

	.btn-primary:hover {
		background-color: var(--color-primary-dark);
		border-color: var(--color-primary-dark);
		transform: translateY(-2px); /* Subtle lift effect */
		box-shadow: 0 4px 8px rgba(0, 123, 255, 0.2); /* Soft shadow on hover */
	}

	.btn-secondary {
		background-color: var(--color-secondary);
		color: white;
		border: 1px solid var(--color-secondary);
	}

	.btn-secondary:hover {
		background-color: var(--color-secondary-dark);
		border-color: var(--color-secondary-dark);
		transform: translateY(-2px);
		box-shadow: 0 4px 8px rgba(108, 117, 125, 0.2);
	}

	/* --- Footer --- */
	.main-footer {
		background-color: var(--color-footer-bg);
		color: white;
		text-align: center;
		padding: var(--spacing-lg) var(--spacing-lg);
	}

	.main-footer p {
		margin: 0; /* Remove default paragraph margin */
		font-size: 0.9rem;
	}

	/* --- Responsive Adjustments --- */
	@media (max-width: 768px) {
		:root {
			--font-size-h1: 2.2rem;
			--font-size-h2: 1.8rem;
			--font-size-p: 1rem;
		}

		.hero-section {
			padding: var(--spacing-lg) var(--spacing-md);
		}

		.cta-buttons {
			gap: var(--spacing-sm);
		}

		.cta-buttons .btn {
			min-width: 120px;
		}
	}

	@media (max-width: 480px) {
		:root {
			--font-size-h1: 1.8rem;
			--font-size-h2: 1.6rem;
		}
	}
</style>